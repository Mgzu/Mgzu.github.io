<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.2 -->
    <script>
        window.materialVersion = "1.5.2"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">


    <link rel="dns-prefetch" href="https://cdn1.lncld.net">













    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            CentOS 命令 | 
        
        mgzu&#39;s blog
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/ma/ma.png">
    <link rel="icon" href="/img/ma/ma.png">

    <meta name="format-detection" content="telephone=no">
    <meta name="description" itemprop="description" content="Change the world, are you doing it?">
    <meta name="keywords" content="blog,Linux,CentOS">
    <meta name="theme-color" content="#0097A7">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta http-equiv="Cache-Control" content="no-siteapp">

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?MKetZV3cUTfDxvMffaOezg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="mgzu&#39;s blog">
    <meta name="msapplication-starturl" content="http://mgzu.github.io/2020/01/08/CentOS-Command/">
    <meta name="msapplication-navbutton-color" content="#0097A7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="mgzu&#39;s blog">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="/img/ma/ma.png">

    <!-- Site Verification -->
    
    <meta name="baidu-site-verification" content="68b7b5f783ea24487752aaf81561bcf3">

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://mgzu.github.io/2020/01/08/CentOS-Command/">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="CentOS 命令 | mgzu&#39;s blog">
    <meta property="og:image" content="/img/ma/ma.png">
    <meta property="og:description" content="Change the world, are you doing it?">
    <meta property="og:article:tag" content="Linux"> <meta property="og:article:tag" content="CentOS"> 

    
        <meta property="article:published_time" content="Wed Jan 08 2020 00:00:00 GMT+0800">
        <meta property="article:modified_time" content="Sun Jan 26 2020 00:00:00 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://mgzu.github.io/2020/01/08/CentOS-Command/index.html">
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "http://mgzu.github.io/2020/01/08/CentOS-Command/index.html",
    "headline": "CentOS 命令",
    "datePublished": "Wed Jan 08 2020 00:00:00 GMT+0800",
    "dateModified": "Sun Jan 26 2020 00:00:00 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "mgzu",
        "image": {
            "@type": "ImageObject",
            "url": "/img/ma/ma.png"
        },
        "description": "Hi, nice to meet you"
    },
    "publisher": {
        "@type": "Organization",
        "name": "mgzu&#39;s blog",
        "logo": {
            "@type":"ImageObject",
            "url": "/img/ma/ma.png"
        }
    },
    "keywords": ",Linux,CentOSblog",
    "description": "Change the world, are you doing it?",
}
</script>


    

    <!-- Analytics -->
    
    
        <script>
    var _hmt = _hmt || [];
    (function() {var hm = document.createElement('script');
    hm.src = 'https://hm.baidu.com/hm.js?68b7b5f783ea24487752aaf81561bcf3';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(hm, s);
    })();
</script>
    
    

    <!-- Custom Head -->
    

</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn" class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#文件操作"><span class="post-toc-number">1.</span> <span class="post-toc-text">文件操作</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#文件压缩及解压"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">文件压缩及解压</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#压缩"><span class="post-toc-number">1.1.1.</span> <span class="post-toc-text">压缩</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#解压"><span class="post-toc-number">1.1.2.</span> <span class="post-toc-text">解压</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#分割、合并"><span class="post-toc-number">1.1.3.</span> <span class="post-toc-text">分割、合并</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#文件传输"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">文件传输</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#硬链-amp-软链"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">硬链&amp;软链</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#xshell-模糊匹配文件下载到-windows"><span class="post-toc-number">1.4.</span> <span class="post-toc-text">xshell 模糊匹配文件下载到 windows</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#返回上一个文件夹"><span class="post-toc-number">1.5.</span> <span class="post-toc-text">返回上一个文件夹</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#批量重命名"><span class="post-toc-number">1.6.</span> <span class="post-toc-text">批量重命名</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#任务"><span class="post-toc-number">2.</span> <span class="post-toc-text">任务</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#后台运行任务"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">后台运行任务</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#开机执行命令"><span class="post-toc-number">3.</span> <span class="post-toc-text">开机执行命令</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#服务"><span class="post-toc-number">4.</span> <span class="post-toc-text">服务</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#服务开机自启"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">服务开机自启</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#服务注册"><span class="post-toc-number">5.</span> <span class="post-toc-text">服务注册</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#磁盘"><span class="post-toc-number">6.</span> <span class="post-toc-text">磁盘</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#常用命令"><span class="post-toc-number">6.1.</span> <span class="post-toc-text">常用命令</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#磁盘格式化"><span class="post-toc-number">6.2.</span> <span class="post-toc-text">磁盘格式化</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#磁盘挂载"><span class="post-toc-number">6.3.</span> <span class="post-toc-text">磁盘挂载</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#磁盘挂载常见错误"><span class="post-toc-number">6.3.1.</span> <span class="post-toc-text">磁盘挂载常见错误</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#防火墙"><span class="post-toc-number">7.</span> <span class="post-toc-text">防火墙</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#iptables"><span class="post-toc-number">7.1.</span> <span class="post-toc-text">iptables</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#firewall"><span class="post-toc-number">7.2.</span> <span class="post-toc-text">firewall</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#端口"><span class="post-toc-number">8.</span> <span class="post-toc-text">端口</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#端口查询"><span class="post-toc-number">8.1.</span> <span class="post-toc-text">端口查询</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#查看端口占用及总连接数"><span class="post-toc-number">8.2.</span> <span class="post-toc-text">查看端口占用及总连接数</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#hosts"><span class="post-toc-number">9.</span> <span class="post-toc-text">hosts</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#dns"><span class="post-toc-number">10.</span> <span class="post-toc-text">dns</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#rpm"><span class="post-toc-number">11.</span> <span class="post-toc-text">rpm</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#rpm-离线安装包"><span class="post-toc-number">11.1.</span> <span class="post-toc-text">rpm 离线安装包</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#进程"><span class="post-toc-number">12.</span> <span class="post-toc-text">进程</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#进程信息"><span class="post-toc-number">12.1.</span> <span class="post-toc-text">进程信息</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#批量杀进程"><span class="post-toc-number">12.2.</span> <span class="post-toc-text">批量杀进程</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#selinux"><span class="post-toc-number">13.</span> <span class="post-toc-text">selinux</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#ntp"><span class="post-toc-number">14.</span> <span class="post-toc-text">ntp</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#frp"><span class="post-toc-number">15.</span> <span class="post-toc-text">frp</span></a></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                CentOS 命令
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/ma/ma.png" width="44px" height="44px" alt="Author Avatar">
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>mgzu</strong>
        <span>POST: 2020-01-08</span>
        <span>UPDATED: 2020-01-26</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/CentOS/">CentOS</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/Linux/">Linux</a>
    </li></ul>
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=CentOS 命令&url=http://mgzu.github.io/2020/01/08/CentOS-Command/index.html&pic=http://mgzu.github.io/img/ma/ma.png&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    

    <!-- Share Facebook -->
    

    <!-- Share Google+ -->
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    
        <a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=mgzu&#39;s blog&title=CentOS 命令&summary=Change the world, are you doing it?&pics=http://mgzu.github.io/img/ma/ma.png&url=http://mgzu.github.io/2020/01/08/CentOS-Command/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 QQ
            </li>
        </a>
    

    <!-- Share Telegram -->
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <p>主要是 centos 6、7 命令，未特别标注则为 centos7 命令</p>
<h1 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h1><h2 id="文件压缩及解压"><a href="#文件压缩及解压" class="headerlink" title="文件压缩及解压"></a>文件压缩及解压</h2><p>filename 文件名，dirname 文件夹名</p>
<h3 id="压缩"><a href="#压缩" class="headerlink" title="压缩"></a>压缩</h3><ul>
<li>.tar.gz -&gt; tar -cjvf filename.tar.gz dirname</li>
<li>.tar.bz2 -&gt; tar -czvf filename.tar.bz2 dirname</li>
<li>.zip -&gt; zip -rv filename.zip dirname</li>
</ul>
<h3 id="解压"><a href="#解压" class="headerlink" title="解压"></a>解压</h3><ul>
<li>.tar.gz -&gt; tar -xzvf filename.tar.gz</li>
<li>.tar.bz2 -&gt; tar -xjvf filename.tar.bz2</li>
<li>.zip -&gt; unzip filename.zip</li>
</ul>
<h3 id="分割、合并"><a href="#分割、合并" class="headerlink" title="分割、合并"></a>分割、合并</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># zip</span><br><span class="line">zip -s 3g a.zip --out b.zip</span><br><span class="line">zip -s 0 b.zip --out a.zip</span><br><span class="line"># tar（不建议使用）</span><br><span class="line">split -b 4000k skype_backup.tar.gz skype_backup_s.tar.gz. –verbose</span><br><span class="line">cat skype_backup_s.tar.gz.a* &gt; skype_backup_cat.tar.gz</span><br></pre></td></tr></table></figure>
<blockquote>
<p>如 zip 命令不存在，可以参考下方 <a href="#rpm-离线安装包">rpm 离线安装包</a>，下载 zip 命令离线安装包</p>
</blockquote>
<h2 id="文件传输"><a href="#文件传输" class="headerlink" title="文件传输"></a>文件传输</h2><p>linux 间文件传输<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 将本地文件复制到远程</span><br><span class="line">scp avg.tar.gz root@101.176.31.63:/share</span><br><span class="line"># 将远程文件复制到本地</span><br><span class="line">scp root@112.49.11.147:/home/local/ xs_sdk.tar</span><br></pre></td></tr></table></figure></p>
<h2 id="硬链-amp-软链"><a href="#硬链-amp-软链" class="headerlink" title="硬链&amp;软链"></a>硬链&amp;软链</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 硬链，不可链接文件夹</span><br><span class="line">ln /home/share /share</span><br><span class="line"># 软链</span><br><span class="line">ln -s /home/share /share</span><br><span class="line"># 删除软链</span><br><span class="line">rm -rf /share（后面不能带 /，否则，真实目录下的文件也会被删除）</span><br></pre></td></tr></table></figure>
<h2 id="xshell-模糊匹配文件下载到-windows"><a href="#xshell-模糊匹配文件下载到-windows" class="headerlink" title="xshell 模糊匹配文件下载到 windows"></a>xshell 模糊匹配文件下载到 windows</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum install lrzsz</span><br><span class="line">sz *filename*.txt</span><br></pre></td></tr></table></figure>
<h2 id="返回上一个文件夹"><a href="#返回上一个文件夹" class="headerlink" title="返回上一个文件夹"></a>返回上一个文件夹</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd $OLDPWD</span><br></pre></td></tr></table></figure>
<h2 id="批量重命名"><a href="#批量重命名" class="headerlink" title="批量重命名"></a>批量重命名</h2><p>将文件名中的 ‘.txt’ 替换为 ‘.daily.txt’<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for file in `ls *.txt`;do mv $file `echo $file|sed &apos;s/.txt/.daily.txt/g&apos;`;done;</span><br></pre></td></tr></table></figure></p>
<h1 id="任务"><a href="#任务" class="headerlink" title="任务"></a>任务</h1><h2 id="后台运行任务"><a href="#后台运行任务" class="headerlink" title="后台运行任务"></a>后台运行任务</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># shell 后台任务，直接关闭 ssh 会导致任务结束，可以使用 exit 退出 ssh，这样任务将继续运行</span><br><span class="line">python filename.py arg arg &gt; filename.log 2&gt;&amp;1 &amp;</span><br><span class="line"># 基于</span><br><span class="line">nohup python filename.py arg arg &gt; filename.log 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure>
<h1 id="开机执行命令"><a href="#开机执行命令" class="headerlink" title="开机执行命令"></a>开机执行命令</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># /etc/rc.local 软链到 /etc/rc.d/rc.local</span><br><span class="line">vim /etc/rc.local</span><br><span class="line"># /etc/rc.d/rc.local 默认没有执行权限</span><br><span class="line">chmod +x /etc/rc.d/rc.local</span><br></pre></td></tr></table></figure>
<h1 id="服务"><a href="#服务" class="headerlink" title="服务"></a>服务</h1><h2 id="服务开机自启"><a href="#服务开机自启" class="headerlink" title="服务开机自启"></a>服务开机自启</h2><p>centos 6<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 服务开机自启</span><br><span class="line">chkconfig mysqld on</span><br><span class="line"># 查询服务是否开机自启</span><br><span class="line">chkconfig --list | grep mysqld</span><br></pre></td></tr></table></figure></p>
<p>centos 7<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 服务开机自启</span><br><span class="line">systemctl enable mysqld.service</span><br><span class="line"># 查询服务是否开机自启</span><br><span class="line">systemctl is-enabled mysqld.service</span><br></pre></td></tr></table></figure></p>
<h1 id="服务注册"><a href="#服务注册" class="headerlink" title="服务注册"></a>服务注册</h1><p>不同服务配置可能会存在差异，这里以 tomcat 为例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">vim /usr/lib/systemd/system/tomcat.service</span><br><span class="line">添加以下内容</span><br><span class="line">[Unit]</span><br><span class="line">Description=Tomcat</span><br><span class="line">After=syslog.target network.target remote-fs.target nss-lookup.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=oneshot</span><br><span class="line">ExecStart=/share/tomcat/apache-tomcat-7.0.90/bin/startup.sh</span><br><span class="line">ExecStop=/share/tomcat/apache-tomcat-7.0.90/bin/shutdown.sh</span><br><span class="line">ExecReload=/bin/kill -s HUP $MAINPID</span><br><span class="line">RemainAfterExit=yes</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure></p>
<p>其它配置<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">在启动服务（systemctl start tomcat.service）时可能会遇到以下问题</span><br><span class="line">Neither the JAVA_HOME nor the JRE_HOME environment variable is defined</span><br><span class="line">这里需要修改 $&#123;CATELINA_HOME&#125;/bin/setclasspath.sh，添加环境变量配置</span><br><span class="line">export JAVA_HOME=/usr/jdk/jdk1.7.0_80</span><br><span class="line">export JRE_HOME=/usr/jdk/jdk1.7.0_80/jre</span><br></pre></td></tr></table></figure></p>
<p>mongodb service<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=mongodb</span><br><span class="line">After=network.target remote-fs.target nss-lookup.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=forking</span><br><span class="line">ExecStart=/home/mongodb/bin/mongod --config  /mnt/app/mongodb/bin/mongodb.conf</span><br><span class="line">ExecReload=/bin/kill -s HUP $MAINPID</span><br><span class="line">ExecStop=/home/mongodb/bin/mongod --shutdown --config  /home/mongodb/bin/mongodb.conf</span><br><span class="line">PrivateTmp=true</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure></p>
<h1 id="磁盘"><a href="#磁盘" class="headerlink" title="磁盘"></a>磁盘</h1><h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><ul>
<li>df -h<br>查看磁盘使用率和分区状态</li>
<li>du -h(-sh)<br>查看文件夹的占用磁盘空间大小</li>
<li>head -10 filename<br>查看文件前几行</li>
<li>tail -10 filename<br>查看文件后几行</li>
<li>iostat -d -x -k 1<br>查看磁盘利用率</li>
</ul>
<h2 id="磁盘格式化"><a href="#磁盘格式化" class="headerlink" title="磁盘格式化"></a>磁盘格式化</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkfs -t xfs /dev/sdd</span><br></pre></td></tr></table></figure>
<h2 id="磁盘挂载"><a href="#磁盘挂载" class="headerlink" title="磁盘挂载"></a>磁盘挂载</h2><p>mount 10.194.22.32:/yc /mnt/hisData<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 挂载 linux 共享目录，将 192.168.1.1 的 /data/nfs-share 目录，挂载到本地 /data/share-file 目录</span><br><span class="line">mount 192.168.1.1:/data/nfs-share /data/share-file</span><br><span class="line"># 挂载 windows 共享目录</span><br><span class="line">mount -t cifs -o username=reader,password=reader1 //192.168.1.1/model /share/model</span><br></pre></td></tr></table></figure></p>
<h3 id="磁盘挂载常见错误"><a href="#磁盘挂载常见错误" class="headerlink" title="磁盘挂载常见错误"></a>磁盘挂载常见错误</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># [Errno 5] Input/output error</span><br><span class="line">mount -t cifs -o username=think,password=121,vers=2.1 //192.168.1.1/G/Data /mnt/Data</span><br><span class="line"># 添加 vars 参数</span><br><span class="line">mount -t cifs -o username=hhah,password=&apos;Xgs@19!gga&apos;,vers=2.1 //192.168.1.1/ncep /share/ncep</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mount: //192.168.1.1/Data$ is write-protected, mounting read-only</span><br><span class="line">mount: cannot mount //192.168.1.1/Data$ read-only</span><br><span class="line"># 安装 cifs-utils</span><br><span class="line">yum -y install cifs-utils</span><br></pre></td></tr></table></figure>
<p>注：如果需要设置开机挂载，在/etc/fstab添加一行配置即可：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">192.168.1.1:/data/nfs-share /data/share nfs rw,tcp,intr 0 1</span><br></pre></td></tr></table></figure></p>
<p>然后服务端和客户端都要用enable设置nfs和rpcbind服务开机启动，然后才可以正常挂载</p>
<blockquote>
<p>也可以在 rc.local 中添加上方的挂载代码来解决开机自动挂载</p>
</blockquote>
<p>取消挂载<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">umount /data/share</span><br></pre></td></tr></table></figure></p>
<h1 id="防火墙"><a href="#防火墙" class="headerlink" title="防火墙"></a>防火墙</h1><h2 id="iptables"><a href="#iptables" class="headerlink" title="iptables"></a>iptables</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"># 指定 ip 开放所有端口</span><br><span class="line">iptables -A INPUT -s 10.76.26.41 -p all -j ACCEPT</span><br><span class="line"></span><br><span class="line"># 指定 ip 开放指定协议指定端口</span><br><span class="line">iptables -A INPUT -s 10.76.26.41 -p tcp --dport 80 -j ACCEPT</span><br><span class="line">iptables -A INPUT -p tcp --dport 80 -j ACCEPT</span><br><span class="line">iptables -A OUTPUT -s 10.76.26.41 -p tcp --sport 80 -j ACCEPT</span><br><span class="line">iptables -D INPUT -s 10.76.26.41 -p tcp --dport 80 -j ACCEPT</span><br><span class="line"></span><br><span class="line"># 指定端口阻断流量</span><br><span class="line">iptables -A INPUT -p tcp --dport 80 -j REJECT</span><br><span class="line">iptables -t filter -A INPUT -p tcp --dport 80 -j REJECT</span><br><span class="line"></span><br><span class="line">iptables -A INPUT -p tcp --dport 80 -j DROP</span><br><span class="line"></span><br><span class="line"># 查看规则文件</span><br><span class="line">cat /etc/sysconfig/iptables</span><br><span class="line"># 修改策略</span><br><span class="line">iptables --policy INPUT ACCEPT</span><br><span class="line"># 查看规则和行号</span><br><span class="line">iptables -L -n --line-number</span><br><span class="line"># 保存规则</span><br><span class="line">service iptables save</span><br><span class="line"># 重启</span><br><span class="line">service iptables restart</span><br></pre></td></tr></table></figure>
<h2 id="firewall"><a href="#firewall" class="headerlink" title="firewall"></a>firewall</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 查询端口是否开放</span><br><span class="line">firewall-cmd --query-port=8080/tcp</span><br><span class="line"># 永久开放端口（去除--permanent，重启失效）</span><br><span class="line">firewall-cmd --permanent --add-port=80/tcp</span><br><span class="line"># 永久移除端口</span><br><span class="line">firewall-cmd --permanent --remove-port=8080/tcp</span><br><span class="line"># 重新加载规则</span><br><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure>
<h1 id="端口"><a href="#端口" class="headerlink" title="端口"></a>端口</h1><h2 id="端口查询"><a href="#端口查询" class="headerlink" title="端口查询"></a>端口查询</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -tunlp | grep 3306</span><br></pre></td></tr></table></figure>
<h2 id="查看端口占用及总连接数"><a href="#查看端口占用及总连接数" class="headerlink" title="查看端口占用及总连接数"></a>查看端口占用及总连接数</h2><p>查看端口占用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 命令不存在，需要 yum install net-tools</span><br><span class="line">sudo netstat -lnp|grep 8000</span><br><span class="line">sudo ps [pid]</span><br><span class="line">sudo kill pid</span><br></pre></td></tr></table></figure></p>
<p>查看端口占用及总连接数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -n | grep &apos;:22\|Address&apos; &amp;&amp; netstat -n | grep :22 | wc -l | awk &apos;&#123; print &quot;total ssh and sftp connection: &quot;$1 &#125;&apos;</span><br></pre></td></tr></table></figure></p>
<h1 id="hosts"><a href="#hosts" class="headerlink" title="hosts"></a>hosts</h1><p>centos 7<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">修改 hosts 文件</span><br><span class="line">vim /etc/hosts</span><br><span class="line">添加对应 ip、域名</span><br><span class="line">140.172.38.117 ftp.cdc.noaa.gov</span><br><span class="line">重启网络</span><br><span class="line">systemctl restart network</span><br></pre></td></tr></table></figure></p>
<p>centos 6<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">修改 hosts 文件</span><br><span class="line">vim /etc/hosts</span><br><span class="line">添加对应 ip、域名</span><br><span class="line">140.172.38.117 ftp.cdc.noaa.gov</span><br><span class="line">重启网络</span><br><span class="line">service network restart</span><br></pre></td></tr></table></figure></p>
<h1 id="dns"><a href="#dns" class="headerlink" title="dns"></a>dns</h1><p>centos 6<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/resolv.conf</span><br><span class="line"># 修改 dns 为 114</span><br><span class="line">nameserver 114.114.114.114</span><br><span class="line">nameserver 8.8.8.8</span><br><span class="line"># 重启服务</span><br><span class="line">service network restart</span><br></pre></td></tr></table></figure></p>
<p>centos 7<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">nmcli connection show</span><br><span class="line"># 输出的网卡名为 em1，下方则为 em1，网卡输出为 ens160，下方则为 ens160</span><br><span class="line">nmcli con mod ens160 ipv4.dns &quot;114.114.114.114 114.114.113.113&quot;</span><br><span class="line">nmcli con up ens160</span><br><span class="line">ping www.baidu.com</span><br></pre></td></tr></table></figure></p>
<h1 id="rpm"><a href="#rpm" class="headerlink" title="rpm"></a>rpm</h1><h2 id="rpm-离线安装包"><a href="#rpm-离线安装包" class="headerlink" title="rpm 离线安装包"></a>rpm 离线安装包</h2><p>使用 yumdownloader 下载 rpm 包<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 下载 rpm 包</span><br><span class="line">yumdownloader --resolve --destdir=./ nginx</span><br><span class="line"># 安装 rpm 包</span><br><span class="line">rpm -Uvh *.rpm</span><br><span class="line"># 如果存在 conflicts 文件，需要卸载对应依赖或使用</span><br><span class="line">rpm -ivh *.rpm --replacefiles</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>这里可能会出现文件不是 rpm 格式的问题（文件损坏等情况），可使用 file 命令查看文件属性</p>
</blockquote>
<h1 id="进程"><a href="#进程" class="headerlink" title="进程"></a>进程</h1><h2 id="进程信息"><a href="#进程信息" class="headerlink" title="进程信息"></a>进程信息</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -al /proc/PID/</span><br></pre></td></tr></table></figure>
<h2 id="批量杀进程"><a href="#批量杀进程" class="headerlink" title="批量杀进程"></a>批量杀进程</h2><p>keyword 是关键字<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ps -ef | grep keyword |awk &apos;&#123;print $2&#125;&apos;|xargs kill -9</span><br><span class="line">kill -9 `ps -ef | grep keyword | awk &apos;&#123;print $2&#125;&apos;`</span><br></pre></td></tr></table></figure></p>
<h1 id="selinux"><a href="#selinux" class="headerlink" title="selinux"></a>selinux</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 查看 selinux 状态</span><br><span class="line">sestatus</span><br><span class="line"># 临时关闭</span><br><span class="line">setenforce 0</span><br><span class="line"># 永久关闭</span><br><span class="line">vi /etc/selinux/config</span><br><span class="line">SELINUX=disabled</span><br></pre></td></tr></table></figure>
<h1 id="ntp"><a href="#ntp" class="headerlink" title="ntp"></a>ntp</h1><p>时间同步暂未使用过</p>
<h1 id="frp"><a href="#frp" class="headerlink" title="frp"></a>frp</h1><p>frp 服务为 <a href="https://www.natfrp.com/" target="_blank" rel="noopener">https://www.natfrp.com/</a> 提供</p>
<p>使用 token 启动，并输出配置文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/frp/frpc_linux_amd64 -f abcedfgh123abcedfgh123:6666 -w</span><br></pre></td></tr></table></figure></p>
<p>使用配置文件启动<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup /usr/local/frp/frpc_linux_amd64 -c /usr/local/frp/frpc.ini &gt; /usr/local/frp/frp.log 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure></p>

        
                <blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;">
                    <p><strong>
                         
                            This blog is under a <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0 International License</a>
                        </strong>
                        <br>
                        <strong>本文链接：</strong><a href="http://mgzu.github.io/2020/01/08/CentOS-Command/">http://mgzu.github.io/2020/01/08/CentOS-Command/</a>
                    </p>
                </blockquote>
        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <div id="comment" style="padding:10px;" class="vcomment"></div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="//unpkg.com/valine/dist/Valine.min.js"></script>
<script>
    var GUEST_INFO = ['nick','mail','link'];
    var guest_info = 'nick,mail,link'.split(',').filter(function(item){
        return GUEST_INFO.indexOf(item) > -1
    });
    var notify = 'false' == true;
    var verify = 'false' == true;
    new Valine({
        el: '.vcomment',
        notify: notify,
        verify: verify,
        appId: "FUoXIch6uC5vp1gkRCpYGrMu-gzGzoHsz",
        appKey: "g8MOu14vaw7p1RAflgPNcnIk",
        placeholder: "Just go go",
        pageSize:'10',
        avatar:'identicon',
        lang:'zh-cn'
    });
</script>

                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2020/01/27/Oracle-command/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2019/09/23/vagrant-centos7-install-python3/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/ma/ma.png" alt="mgzu's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        maguangzu1996@163.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="#" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2020/01/">一月 2020<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/09/">九月 2019<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/08/">八月 2019<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/07/">七月 2019<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/07/">七月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/05/">五月 2018<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/04/">四月 2018<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/03/">三月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/01/">一月 2018<span class="sidebar_archives-count">4</span></a>
            </li></ul>
        </li>
        
    

    <!-- Categories  -->
    

    <!-- Pages  -->
    
        <li>
            <a href="/about" title="About">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                About
            </a>
        </li>
        
    
        <li>
            <a href="/links" title="Links">
                
                Links
            </a>
        </li>
        
    
        <li>
            <a href="/timeline" title="Timeline">
                
                Timeline
            </a>
        </li>
        
    
        <li>
            <a href="/tags" title="Tags">
                
                Tags
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->

    <a href="https://github.com/viosey/hexo-theme-material" class="sidebar-footer-text-a" target="_blank">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
            主题 - Material
            <span class="sidebar-badge badge-circle">i</span>
        </div>
    </a>


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://github.com/Mgzu" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-github">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
    
    <!-- V2EX -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©<script type="text/javascript">var fd = new Date();document.write("&nbsp;" + fd.getFullYear() + "&nbsp;");</script>mgzu's blog
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?V/53wGualMuiPM3xoetD5Q==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>









   





<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import prettify js  -->



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.2 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
